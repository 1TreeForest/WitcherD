function changText(c){var a=c.split("");for(var b=0;b<a.length;b++){if(a[b].charCodeAt(0)>=65&&a[b].charCodeAt(0)<=90){a[b]=a[b].toLowerCase()}else{a[b]=a[b].toUpperCase()}}c="";for(var b=0;b<a.length;b++){c+=a[b]}return c}function HNAP_XML(){}HNAP_XML.prototype={XML_hnap:null,GetXML:function(b,e){var c=this;var a=GetAjaxObj("GetXML");a.createRequest();a.onCallback=function(j){a.release();j.AnchorNode=j.XDoc.getElementsByTagName("soap:Body")[0];if(j.AnchorNode==undefined||j.AnchorNode==null){j.AnchorNode=j.XDoc.getElementsByTagName("Body")[0]}if(e!=null){for(var k=0;k<e.length;k=k+2){j.Set(b+"/"+e[k],e[k+1])}}c.XML_hnap=j};a.setHeader("Content-Type","text/xml");a.requestMethod="GET";a.requestAsyn=false;a.sendRequest("/hnap/"+b+".xml?v=20150211171738");if(b.substr(0,3)=="Get"&&b!="GetMultipleHNAPs"){var a=GetAjaxObj("GetXMLFromHNAP");a.createRequest();a.onCallback=function(i){a.release();i.AnchorNode=i.XDoc.getElementsByTagName("soap:Body")[0];if(i.AnchorNode==undefined||i.AnchorNode==null){i.AnchorNode=i.XDoc.getElementsByTagName("Body")[0]}c.XML_hnap=i};a.requestAsyn=false;a.clearAllHeaders();a.setHeader("Content-Type","text/xml");a.setHeader("Accept","text/xml");a.setHeader("SOAPACTION",'"http://purenetworks.com/HNAP1/'+b+'"');var g=localStorage.getItem("PrivateKey");if(g==null){g="withoutloginkey"}var h=new Date().getTime();h=Math.floor(h/1000)%2000000000;var d='"http://purenetworks.com/HNAP1/'+b+'"';var f=hex_hmac_md5(g,h.toString()+d);f=changText(f);a.setHeader("HNAP_AUTH",f+" "+h);a.sendRequest("/HNAP1/",this.XML_hnap.XDoc);return this.XML_hnap}return this.XML_hnap},GetXMLAsync:function(b,e,f,d){var c=this;var a=GetAjaxObj("GetXMLAsync");a.createRequest();a.onCallback=function(h){a.release();h.AnchorNode=h.XDoc.getElementsByTagName("soap:Body")[0];if(h.AnchorNode==undefined||h.AnchorNode==null){h.AnchorNode=h.XDoc.getElementsByTagName("Body")[0]}if(e!=null){for(var j=0;j<e.length;j=j+2){h.Set(b+"/"+e[j],e[j+1])}}c.XML_hnap=h;switch(f){case"GetXML":d(h);break;case"GetValue":g(c.XML_hnap,b,e,d);break}};a.setHeader("Content-Type","text/xml");a.requestMethod="GET";a.requestAsyn=true;a.sendRequest("/hnap/"+b+".xml?v=20150211171738");function g(k,h,p,n){var q=this;var o=GetAjaxObj("GetXMLAsync");o.createRequest();o.onCallback=function(r){o.release();r.AnchorNode=r.XDoc.getElementsByTagName("soap:Body")[0];if(r.AnchorNode==undefined||r.AnchorNode==null){r.AnchorNode=r.XDoc.getElementsByTagName("Body")[0]}if(p!=null){for(var s=0;s<p.length;s=s+2){r.Set(h+"/"+p[s],p[s+1])}}q.XML_hnap=r;n(r)};o.requestAsyn=true;o.clearAllHeaders();o.setHeader("Content-Type","text/xml");o.setHeader("Accept","text/xml");o.setHeader("SOAPACTION",'"http://purenetworks.com/HNAP1/'+h+'"');var l=localStorage.getItem("PrivateKey");if(l==null){l="withoutloginkey"}var j=new Date().getTime();j=Math.floor(j/1000)%2000000000;var m='"http://purenetworks.com/HNAP1/'+h+'"';var i=hex_hmac_md5(l,j.toString()+m);i=changText(i);o.setHeader("HNAP_AUTH",i+" "+j);o.sendRequest("/HNAP1/",k.XDoc)}},SetXML:function(b,e){var c=this;var a=GetAjaxObj("SetXML");a.createRequest();a.onCallback=function(i){a.release();i.AnchorNode=i.XDoc.getElementsByTagName("soap:Body")[0];if(i.AnchorNode==undefined||i.AnchorNode==null){i.AnchorNode=i.XDoc.getElementsByTagName("Body")[0]}c.XML_hnap=i};a.requestAsyn=false;a.clearAllHeaders();a.setHeader("Content-Type","text/xml");a.setHeader("Accept","text/xml");a.setHeader("SOAPACTION",'"http://purenetworks.com/HNAP1/'+b+'"');var g=localStorage.getItem("PrivateKey");if(g==null){g="withoutloginkey"}var h=new Date().getTime();h=Math.floor(h/1000)%2000000000;var d='"http://purenetworks.com/HNAP1/'+b+'"';var f=hex_hmac_md5(g,h.toString()+d);f=changText(f);a.setHeader("HNAP_AUTH",f+" "+h);a.sendRequest("/HNAP1/",e.XDoc);return this.XML_hnap},SetXMLAsync:function(a,d,g){var i=this;var h=GetAjaxObj("SetXMLAsync");h.createRequest();h.onCallback=function(j){h.release();j.AnchorNode=j.XDoc.getElementsByTagName("soap:Body")[0];if(j.AnchorNode==undefined||j.AnchorNode==null){j.AnchorNode=j.XDoc.getElementsByTagName("Body")[0]}g(j)};h.requestAsyn=true;h.clearAllHeaders();h.setHeader("Content-Type","text/xml");h.setHeader("Accept","text/xml");h.setHeader("SOAPACTION",'"http://purenetworks.com/HNAP1/'+a+'"');var e=localStorage.getItem("PrivateKey");if(e==null){e="withoutloginkey"}var c=new Date().getTime();c=Math.floor(c/1000)%2000000000;var f='"http://purenetworks.com/HNAP1/'+a+'"';var b=hex_hmac_md5(e,c.toString()+f);b=changText(b);h.setHeader("HNAP_AUTH",b+" "+c);h.sendRequest("/HNAP1/",d.XDoc)}};